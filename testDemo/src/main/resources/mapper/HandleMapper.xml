<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.example.testdemo.mapper.HandleMapper">

    <resultMap id="handleRM" type="com.example.testdemo.entity.Handle">
        <result column="record_id" property="recordId"/>
        <result column="courier_id" property="courierId"/>
    </resultMap>

    <delete id="deleteByRecordIds">
        delete from sustc.public.handle where record_id in
        <foreach collection="ids" item="id" separator="," open="(" close=")">
            #{id}
        </foreach>
    </delete>

    <select id="getHandlesByRecordId" resultMap="handleRM">
        select *
        from sustc.public.handle
        where record_id = #{id}
    </select>

    <select id="getRecordIdsByCourierIdAndType" resultType="java.lang.Integer">
        select record_id from sustc.public.handle where courier_id = #{id} and type = #{type};
    </select>


</mapper>